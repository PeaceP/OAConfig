{"version":3,"sources":["../../src/pages/me/edit-information/edit-information.ts","../../src/pages/me/edit-information/edit-information.module.ts","webpack:///./src/pages/me/edit-information/editInformationService.ts?82ed"],"names":[],"mappings":"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","file":"91.js","sourcesContent":["import { EditInformationService } from './editInformationService';\nimport { NativeService } from './../../../providers/NativeService';\nimport { PhoneNumberPage } from './../phone-number/phone-number';\nimport { Storage } from '@ionic/storage';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular';\n\n/**\n * Generated class for the EditInformationPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-edit-information',\n  templateUrl: 'edit-information.html',\n  providers: [EditInformationService]\n\n})\nexport class EditInformationPage {\n  name: any;\n  user_heard: any;\n  company: any;\n  job: any;\n  department: any;\n  barcode: any;\n  phone: any;\n  isChange: boolean = false;//头像是否改变标识\n  avatarPath: string;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public storage: Storage,\n    public actionSheetCtrl: ActionSheetController,\n    private nativeService: NativeService,\n    private editInformationService: EditInformationService) {\n  }\n\n  ionViewDidEnter() {\n    this.storage.get('user').then(res => {\n      this.name = res.result.res_data.name;\n      this.user_heard = res.result.res_data.user_ava;\n      this.company = res.result.res_data.company;\n      this.job = res.result.res_data.job;\n      if (this.job == false) {\n        this.job = ''\n      }\n      this.department = res.result.res_data.department;\n      if (this.department == false) {\n        this.department = ''\n      }\n      this.barcode = res.result.res_data.barcode;\n      this.phone = res.result.res_data.phone;\n      if (this.phone == false) {\n        this.phone = ''\n      }\n    })\n  }\n\n  changeHeardImg() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: '',\n      buttons: [\n        {\n          text: '拍照',\n          //  role: 'destructive',\n          handler: () => {\n            console.log('Destructive clicked');\n            this.getPicture(1);\n          }\n        },\n        {\n          text: '从手机相册选择',\n          handler: () => {\n            console.log('Archive clicked');\n            this.getPicture(0);\n          }\n        },\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n\n    actionSheet.present();\n  }\n\n  toPhoneNumberPage() {\n    this.navCtrl.push(\"PhoneNumberPage\");\n  }\n\n  getPicture(type) {//1拍照,0从图库选择\n    let options = {\n      allowEdit: false,\n    };\n    if (type == 1) {\n      this.nativeService.getPictureByCamera(options).subscribe(img_url => {\n        this.getPictureSuccess(img_url);\n      });\n    } else {\n      this.nativeService.getPictureByPhotoLibrary(options).subscribe(img_url => {\n        this.getPictureSuccess(img_url);\n      });\n    }\n  }\n\n  private getPictureSuccess(img_url) {\n    this.isChange = true;\n    this.user_heard = img_url;\n    this.editInformationService.pushHeardImage(img_url.split(\",\")[1])\n      .then(res => {\n        if (res.result && res.result.res_code == 1) {\n          this.storage.get('user').then(userBean => {\n            userBean.result.res_data.user_ava = res.result.res_data.user_ava\n            this.storage.set('user', userBean)\n          })\n        }\n      })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/edit-information/edit-information.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditInformationPage } from './edit-information';\n\n@NgModule({\n  declarations: [\n    EditInformationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditInformationPage),\n  ],\n  // exports: [\n  //   EditInformationPage\n  // ]\n})\nexport class EditInformationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/edit-information/edit-information.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class EditInformationService {\n    constructor(private httpService: HttpService) {\n\n    }\n\n    pushHeardImage(imageBase64){\n        let body=JSON.stringify({\n            img: imageBase64,\n            uid :HttpService.user_id\n        })\n        return this.httpService.postBody('change_img',body,1);\n    }\n\n\n    pushHeardImageWithUid(imageBase64,uid){\n        let body=JSON.stringify({\n            img: imageBase64,\n            uid :uid\n        })\n        return this.httpService.postBodyNoLoading('change_img',body,1);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/edit-information/editInformationService.ts"],"sourceRoot":""}