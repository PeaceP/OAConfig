{"version":3,"sources":["../../src/pages/work-bench/shengoupage/edit-new-shengou/edit-new-shengou.ts","../../src/pages/work-bench/shengoupage/edit-new-shengou/edit-new-shengou.module.ts","webpack:///./src/pages/work-bench/shengoupage/shengouService.ts?8746***"],"names":[],"mappings":"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","file":"40.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams, IonicPage ,AlertController,ToastController} from 'ionic-angular';\nimport { Utils } from './../../../../providers/Utils';\nimport { ShenGouService} from './../shengouService'\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the EditNewShengouPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-edit-new-shengou',\n  templateUrl: 'edit-new-shengou.html',\n  providers:[ShenGouService],\n})\nexport class EditNewShengouPage {\n  item:any;\n  title:any;\n  user_id:any;\n  frontPage:any;\n  isAdd = false;\n  index;\n  isChange = false;\n  production;\n  total;\n  department;\n  partner_id;\n  departmentList;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public shengouService:ShenGouService,public alertCtrl:AlertController,public storage:Storage,\n  public toastCtrl:ToastController) {\n    this.item = this.navParams.get('item');\n     console.log(this.item.state)\n     this.frontPage = Utils.getViewController(\"ShengoupagePage\", navCtrl)\n     this.storage.get('user')\n    .then(res => {\n      this.user_id = res.result.res_data.user_id;\n      this.partner_id = res.result.res_data.partner_id;\n\n      if (this.item.state == \"cancel\")\n      {\n        this.shengouService.get_all_departments(this.partner_id).then((res) => {\n        if (res.result.res_data.all_departments)\n        {\n          this.departmentList = res.result.res_data.all_departments.res_data;\n          for (let item of res.result.res_data.all_departments.res_data) {\n            console.log(item + \" \" + this.item.department)\n            if(item.id == this.item.department.id)\n            {\n              this.department = item.id;\n            }\n          }\n        }\n      })\n      }\n      \n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EditNewShengouPage');\n  }\n\n  ionViewWillEnter() {\n    this.isAdd = this.navParams.get(\"isAdd\")\n    this.isChange = this.navParams.get(\"isChange\")\n    if (this.isAdd) {\n      console.log(this.production)\n      this.production = this.navParams.get('production')\n      if (this.production) {\n        this.item.line_ids.push(this.production)\n      }\n      this.navParams.data.isAdd = false;\n    }\n    if (this.isChange) {\n      let changeItem = this.item.line_ids[this.item.line_ids.length-1]\n      this.item.line_ids.splice(this.index, 1,changeItem);\n      this.item.line_ids.pop()\n      this.navParams.data.isChange = false;\n    }\n    this.getTotalAmount()\n  }\n\n  getTotalAmount() {\n    if (this.item.line_ids) {\n      let total = 0;\n      for (let item of this.item.line_ids) {\n        total = total + parseFloat((parseFloat(item.price_unit) * parseFloat(item.quantity)).toFixed(2))\n      }\n      this.total = total.toFixed(2)\n    }\n  }\n\n  changeDate(date){\n    let new_date = new Date(date.replace(' ', 'T') + 'Z').getTime();\n    return new_date;\n  }\n\n  changeProductItem(i){\n     this.index = i;\n     console.log(this.item.line_ids[i])\n    this.navCtrl.push('EditShengouPage', {\n      item: this.item.line_ids[i], index: i\n      // , product: this.productList\n    })\n  }\n\n  deleteProductItem(i) {\n    this.item.line_ids.splice(i, 1)\n    this.getTotalAmount()\n  }\n\n  addApplyDetail(){\n    this.navCtrl.push('EditAddShengouPage')\n  }\n\n  reApply(){\n     let mString = \"\";\n    if (!this.department) {\n      mString = mString + \"   请选择部门\"\n    }\n    if (this.item.line_ids.length <= 0) {\n      mString = mString + \"   请填写申购明细\"\n    }\n    if (mString != \"\") {\n      Utils.toastButtom(mString, this.toastCtrl)\n    }\n    else\n    {\n      let ctrl = this.alertCtrl;\n\n    let productionList = []\n    for (let item of this.item.line_ids) {\n      let pro = {\n        description: item.description,\n        quantity:parseInt(item.quantity),\n        // department_id: parseInt(this.department),\n        product_id: parseInt(item.product_id.id),\n        price_unit: parseFloat(item.price_unit)\n      }\n      productionList.push(pro)\n    }\n    let mbody = {\n      line_ids: productionList,\n      create_uid:this.user_id,\n      total_amount:this.total,\n    }\n    let body = {\n      data: mbody\n    }\n\n    this.shengouService.reset_shengou(this.user_id,this.item.sheet_id,body,this.department).then((res) => {\n        if (res.result.res_data.success == 1)\n          {\n            console.log(res.result.res_data.success)\n            ctrl.create({\n                  title: '提示',\n                  subTitle: \"重新申请成功,等待审核\",\n                  buttons: [{\n                text: '确定',\n                    handler: () => {\n                    this.frontPage.data.need_fresh = true;\n              this.navCtrl.popTo(this.frontPage);\n             }\n             }\n      ]\n    }).present();\n          }\n    })\n    } \n  }\n\n  goBack() {\n      this.navCtrl.pop();\n  }\n\n  transInt(intValue,intOtherValue){\n    return (parseFloat(intValue) * parseFloat(intOtherValue)).toFixed(2)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/shengoupage/edit-new-shengou/edit-new-shengou.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditNewShengouPage } from './edit-new-shengou';\n\n@NgModule({\n  declarations: [\n    EditNewShengouPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditNewShengouPage),\n  ],\n})\nexport class EditNewShengouPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/shengoupage/edit-new-shengou/edit-new-shengou.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class ShenGouService {\n    constructor(private httpservice: HttpService) {\n\n    }\n    getshengouList(limit,offset,user_id){\n        let body = JSON.stringify({\n            limit:limit,\n            offset:offset,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"get_shengoulist\",body);\n    }\n\n    refuse_shengou(user_id,reason,sheet_id)\n    {\n        let body = JSON.stringify({\n            reason:reason,\n            sheet_id:sheet_id,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"refuse_shengou\",body);\n    }\n\n    reset_shengou(user_id,sheet_id,data,department_id){\n        let body = JSON.stringify({\n            sheet_id:sheet_id,\n            user_id:user_id,\n            line_data:data,\n            department_id:department_id,\n        });\n       return this.httpservice.postBody(\"reset_shengou\",body);\n    }\n\n    get_all_departments(user_id){\n        let body = JSON.stringify({\n           partner_id:user_id,\n        });\n        return this.httpservice.postBody(\"get_all_departments\",body);\n    }\n\n    get_all_products(){\n         let body = JSON.stringify({\n           \n        });\n        return this.httpservice.postBody(\"get_all_products\",body);\n    }\n\n    create_shengou(data) {\n        let body = JSON.stringify(data);\n        console.log(\"JSON 的body 是\" + body)\n        return this.httpservice.postBody(\"create_shengou\", body);\n    }\n\n    search_shengou(search_text,user_id){\n        let body = JSON.stringify({\n           search_text:search_text,\n           user_id:user_id,\n        });\n        return this.httpservice.postBody(\"search_shengou\",body);\n    }\n    search_wait_me_audit(search_text,user_id){\n        let body = JSON.stringify({\n           search_text:search_text,\n           user_id:user_id,\n           type:'wait'\n        });\n        return this.httpservice.postBody(\"search_shengou2\",body);\n    }\n\n    search_audited(search_text,user_id){\n        let body = JSON.stringify({\n           search_text:search_text,\n           user_id:user_id,\n           type :'audited'\n        });\n        return this.httpservice.postBody(\"search_shengou2\",body);\n    }\n\n\n    get_audited_purchase(limit,offset,user_id){\n        let body = JSON.stringify({\n            limit:limit,\n            offset:offset,\n            user_id:user_id,\n            type : \"audited\"\n        });\n       return this.httpservice.postBody(\"audited_purchase\",body);\n    }\n\n    get_wait_audit_purchase(limit,offset,user_id){\n        let body = JSON.stringify({\n            limit:limit,\n            offset:offset,\n            user_id:user_id,\n            type :\"wait\"\n        });\n       return this.httpservice.postBody(\"audited_purchase\",body);\n    }\n\n    confirm1(sheet_id,user_id ,title,type){\n        let body = JSON.stringify({\n            sheet_id:sheet_id,\n            user_id:user_id,\n            reason :title,\n            type :type\n        });\n       return this.httpservice.postBody(\"confirm_purchase\",body);\n    }\n\n    refuse(sheet_id,reason,user_id)\n    {\n        let body = JSON.stringify({\n            sheet_id:sheet_id,\n            reason:reason,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"refuse_audit\",body);\n    }\n\n\n    getAuditDetail(id) {\n        let body = JSON.stringify({\n            id: id\n        });\n        return this.httpservice.postBody(\"get_audit_detail\", body);\n    }\n\n    push_apply(sheet_id,user_id){\n        let body = JSON.stringify({\n            sheet_id: sheet_id,\n            user_id:user_id,\n        });\n        return this.httpservice.postBody(\"push_apply\", body);\n    }\n\n    get_shengou_count(id){\n        let body = JSON.stringify({\n            user_id:id,\n        });\n        return this.httpservice.postBodyNoLoading(\"get_shengou_count\", body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/shengoupage/shengouService.ts"],"sourceRoot":""}