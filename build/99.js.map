{"version":3,"sources":["../../src/pages/customer/create-info/create-info.ts","../../src/pages/customer/create-info/create-info.module.ts","webpack:///./src/pages/customer/CustomerService.ts?a462**"],"names":[],"mappings":"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","file":"99.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,AlertController,Platform } from 'ionic-angular';\nimport { CustomerService } from './../CustomerService';\nimport { Storage } from '@ionic/storage';\nimport { Utils } from './../../../providers/Utils';\ndeclare let cordova: any; \n/**\n * Generated class for the CreateInfoPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-create-info',\n  templateUrl: 'create-info.html',\n  providers:[CustomerService]\n})\nexport class CreateInfoPage {\n  arr:any = [];\n  info:any;\n  res_id:any;\n  create_uid:any;\n  author_id:any;\n  frontPage:any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public customerService:CustomerService,\n  public storage:Storage) {\n    this.frontPage = Utils.getViewController(\"CustomerDetailPage\", navCtrl)\n    this.res_id = navParams.get('res_id')\n     this.storage.get('user')\n      .then(res => {\n        console.log(res)\n        this.create_uid = res.result.res_data.user_id;\n        this.author_id = res.result.res_data.partner_id;\n      });\n    this.customerService.get_all_message_label().then((res) => {\n      console.log(res);\n      if(res.result.res_code == 1)\n      {\n        for (let item of res.result.res_data) {\n            let obj = {\n              id:item.id,\n              name:item.name,\n              isCheck:false,\n            }\n            this.arr.push(obj);\n        }\n      }\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CreateInfoPage');\n  }\n\n  isCheck(item)\n  {\n    if (item.isCheck == \"0\")\n    {\n      return false;\n    }\n    else\n    {\n      return true;\n    }\n    // return false;\n  }\n\n  insertUserToArray(item){\n    if (item.isCheck == \"1\")\n    {\n      item.isCheck = \"0\"\n    }\n    else\n    {\n      item.isCheck = \"1\";\n    }\n    let i = 0;\n    for (var items of this.arr) {\n      i ++;\n      if (items.id == item.id)\n      {\n        this.arr[i - 1] = item;\n        break;\n      }\n    }\n  }\n\n  upload(){\n    let result_arr = [\"question\"];\n    for (let item of this.arr) {\n      if (item.isCheck == \"1\")\n      {\n        result_arr.push(item.id);\n      }\n    }\n\n    let obj = {\n      body:\"<p>\" + this.info + \"</p>\",\n      res_id:this.res_id,\n      create_uid:this.create_uid,\n      message_label_ids:result_arr,\n      author_id:this.author_id,  \n    }\n    \n    this.customerService.createInfo(obj).then((res) => {\n      console.log(res);\n      if(res)\n      {\n        if(res.result.res_data.success == 1)\n        {\n          this.frontPage.data.need_fresh = true;\n              this.navCtrl.popTo(this.frontPage);\n        }\n      }\n    })\n\n  }\n\n  panEvent($event){\n     cordova.plugins.Keyboard.close();\n  }\n \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/customer/create-info/create-info.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateInfoPage } from './create-info';\n\n@NgModule({\n  declarations: [\n    CreateInfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateInfoPage),\n  ],\n})\nexport class CreateInfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/customer/create-info/create-info.module.ts","import { HttpService } from './../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class CustomerService {\n    constructor(private httpservice: HttpService) {\n\n    }\n\n    customer_details(id){\n        \n        let body = JSON.stringify({\n            id:id\n        });\n        return this.httpservice.postBody(\"customer_details\", body);\n    }\n\n    curstomer_clues_details(id){\n        let body = JSON.stringify({\n            id:id\n        });\n        return this.httpservice.postBody(\"get_clue_details\", body);\n    }\n\n    //获取线索\n    get_clues(limit, offset, user_id) {\n        let body = JSON.stringify({\n            limit: limit,\n            offset: offset,\n            user_id: user_id,\n        });\n        return this.httpservice.postBody(\"get_clues\", body);\n    }\n\n    //潜在客户\n    getQianZaiCustomer(limit, offset, user_id) {\n        let body = JSON.stringify({\n            limit: limit,\n            offset: offset,\n            is_order: \"False\",\n            public_partners: \"!=\",\n            user_id: user_id,\n        });\n        return this.httpservice.postBody(\"get_customers\", body);\n    }\n\n    //客户\n    getNormalCustomer(limit, offset, user_id) {\n        let body = JSON.stringify({\n            limit: limit,\n            offset: offset,\n            is_order: \"True\",\n            user_id: user_id\n        });\n        return this.httpservice.postBody(\"get_customers\", body);\n    }\n\n    //公海客户\n    getPublicCustomer(limit, offset, user_id) {\n        let body = JSON.stringify({\n            limit: limit,\n            offset: offset,\n            public_partners: \"=\",\n            user_id: user_id\n        });\n        return this.httpservice.postBody(\"get_customers\", body);\n    }\n\n\n    searchClues(mName,mId) {\n        let body = JSON.stringify({\n            name: mName,\n            user_id :mId \n        });\n        return this.httpservice.postBody(\"search_clues\", body);\n    }\n\n    searchHiddenCustomer(mName,mId) {\n        let body = JSON.stringify({\n            type: \"not_public\",\n            name: mName,\n            user_id :mId \n        });\n        return this.httpservice.postBody(\"search_customer\", body);\n    }\n\n    searchNormalCustomer(mName,mId) {\n        let body = JSON.stringify({\n            type: \"simple\",\n            name: mName,\n            user_id :mId \n        });\n        return this.httpservice.postBody(\"search_customer\", body);\n    }\n\n    searchPublicCustomer(mName,mId) {\n        let body = JSON.stringify({\n            type: \"public\",\n            name: mName,\n            user_id :mId \n        });\n        return this.httpservice.postBody(\"search_customer\", body);\n    }\n\n    createInfo(obj){\n        let body = JSON.stringify({\n            body:obj.body,\n            res_id:obj.res_id,\n            message_label_ids:obj.message_label_ids,\n            author_id:obj.author_id,\n            create_uid:obj.create_uid,\n        });\n        return this.httpservice.postBody(\"create_info\", body);\n    }\n\n    get_all_message_label(){\n        let body = JSON.stringify({\n            \n        });\n        return this.httpservice.postBody(\"get_all_message_label\", body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/customer/CustomerService.ts"],"sourceRoot":""}