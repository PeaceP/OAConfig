{"version":3,"sources":["../../src/pages/work-bench/gongdan/create-gongdan/assign-people/assign-people.ts","../../src/pages/work-bench/gongdan/create-gongdan/assign-people/assign-people.module.ts","webpack:///./src/pages/contact-person/contact-persionService.ts?6ae2"],"names":[],"mappings":"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","file":"100.js","sourcesContent":["import { NavController, NavParams } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { IonicPage } from 'ionic-angular/navigation/ionic-page';\nimport { ContactService } from '../../../../contact-person/contact-persionService';\nimport { Utils } from '../../../../../providers/Utils';\nimport { StatusBar } from '@ionic-native/status-bar';\n\ndeclare let cordova: any;\n/**\n * Generated class for the AssignPeoplePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.â‰ˆ\n */\n@IonicPage()\n@Component({\n  selector: 'page-assign-people',\n  templateUrl: 'assign-people.html',\n  providers: [ContactService]\n})\nexport class AssignPeoplePage {\n  employeeList;\n  origin_data;\n  chooseList = [];\n  frontPage;\n  need_pop_reback;\n  departments ;\n  choosePeopleName ;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public contactService: ContactService,public statusbar:StatusBar) {\n    this.need_pop_reback = this.navParams.get('need_pop_reback')\n    this.choosePeopleName = this.navParams.get('choosePeopleName')\n    if (this.need_pop_reback){\n      this.frontPage = Utils.getViewController(\"RebackGongdanPage\", navCtrl)\n    }\n    else\n    {\n      this.frontPage = Utils.getViewController(\"CreateGongdanPage\", navCtrl)\n    }\n    this.departments =  this.navParams.get(\"departments\")\n    if(this.departments){\n      this.contactService.get_department_employees(this.departments).then((res) => {\n        if (res.result && res.result.res_code == 1) {\n          this.employeeList = res.result.res_data;\n          this.origin_data = this.employeeList;\n          if(this.choosePeopleName){\n            for(let i = 0;i<this.employeeList.length;i++){\n              if(this.employeeList[i].name==this.choosePeopleName){\n                this.employeeList[i].ischeck = true \n              }\n            }\n          }\n        }\n      })\n    }else {\n      this.contactService.get_all_employees().then((res) => {\n        if (res.result && res.result.res_code == 1) {\n          this.employeeList = res.result.res_data;\n          this.origin_data = this.employeeList;\n          if(this.choosePeopleName){\n            for(let i = 0;i<this.employeeList.length;i++){\n              if(this.employeeList[i].name==this.choosePeopleName){\n                this.employeeList[i].ischeck = true \n              }\n            }\n          }\n        }\n      })\n    }\n   \n  }\n\n  ionViewWillEnter() {\n     this.statusbar.backgroundColorByHexString(\"#2597ec\");\n    this.statusbar.styleLightContent();\n  }\n\n  getItems(ev: any) {\n    let val = ev.target.value;\n    if (val && val.trim() != '') {\n      this.employeeList = this.origin_data.filter((item) => {\n        console.log(item)\n        if (item.name != '') {\n          console.log(item.name.toLowerCase().indexOf(val.toLowerCase()) > -1)\n          return (item.name.toLowerCase().indexOf(val.toLowerCase()) > -1);\n        }\n      })\n    }\n    else {\n      this.employeeList = this.origin_data;\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AssignPeoplePage');\n  }\n\n  choosePeople(item) {\n    item.ischeck = !item.ischeck \n    if (item.ischeck){\n      this.frontPage.data.choosePeopleItem = item\n    }else{\n      this.frontPage.data.choosePeopleItem = undefined\n    }\n    this.navCtrl.popTo(this.frontPage)\n  }\n\n  conform() {\n    for (let i = 0; i < this.employeeList.length; i++) {\n      if (this.employeeList[i].ischeck) {\n        this.chooseList.push(this.employeeList[i].id)\n      }\n    }\n    console.log(this.chooseList)\n    this.frontPage.data.assignList = this.chooseList\n    this.navCtrl.popTo(this.frontPage)\n  }\n\n\n  panEvent($event) {\n    cordova.plugins.Keyboard.close();\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/gongdan/create-gongdan/assign-people/assign-people.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AssignPeoplePage } from './assign-people';\n\n@NgModule({\n  declarations: [\n    AssignPeoplePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AssignPeoplePage),\n  ],\n})\nexport class AssignPeoplePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/gongdan/create-gongdan/assign-people/assign-people.module.ts","import { HttpService } from './../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class ContactService {\n    constructor(private httpservice: HttpService) {\n\n    }\n\n\n    get_department_employees(departments){\n        let body = JSON.stringify({\n            department_ids :departments\n        });\n        return this.httpservice.postBody(\"get_department_employees\",body);\n    }\n    get_departments(){\n        let body = JSON.stringify({\n           \n        });\n       return this.httpservice.postBodyNoLoading(\"get_departments\",body);\n    }\n    \n    get_department_detail(department_id){\n        let body = JSON.stringify({\n           department_id:department_id,\n        });\n       return this.httpservice.postBody(\"get_department_detail\",body);\n    }\n\n    get_all_employees(){\n        let body = JSON.stringify({\n        });\n       return this.httpservice.postBody(\"get_all_employees\",body);\n    }\n\n    get_employees(limit,offset){\n        let body = JSON.stringify({\n            limit:limit,\n            offset:offset,\n        });\n       return this.httpservice.postBody(\"get_employees\",body);\n    }\n\n    search_employees(name){\n        let body = JSON.stringify({\n            name:name,\n        });\n       return this.httpservice.postBody(\"search_employees\",body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact-person/contact-persionService.ts"],"sourceRoot":""}