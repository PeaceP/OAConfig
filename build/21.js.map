{"version":3,"sources":["../../src/pages/work-bench/kaoqin/kaoqin-photo/kaoqin-photo.ts","../../src/pages/work-bench/kaoqin/kaoqin-photo/kaoqin-photo.module.ts","../../src/pages/work-bench/kaoqin/kaoqinService.ts","../../node_modules/@ionic-native/geolocation/index.js"],"names":[],"mappings":"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C;IACxD,CAAC;IAED,2CAAmB,GAAnB,UAAoB,WAAW;QAE3B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QACxC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,qBAAqB,EAAC,IAAI,CAAC,CAAC;IAChE,CAAC;IACL,oBAAC;AAAD,CAAC;AAjEY,aAAa;IADzB,yDAAU,EAAE;qCAEwB,2EAAW;GADnC,aAAa,CAiEzB;AAjEyB;;;;;;;;;;;;ACL1B;AAAA;AAAA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACqB;AACwB;AACxB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,qBAAqB;AACtC;AACA,mEAAmE,QAAQ;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA,gCAAgC,kDAAkD;AAClF,SAAS;AACT;AACA;AACA,SAAS,kEAAmB;AAC5B;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACO;AACR,iC","file":"21.js","sourcesContent":["import { Component,ElementRef,ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { KaoQinService} from './../kaoqinService';\nimport { DatePipe } from '@angular/common';\nimport { IonicPage, NavController, NavParams, Platform,AlertController ,ToastController,LoadingController,ActionSheetController} from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NativeService } from './../../../../providers/NativeService';\nimport { Utils } from '../../../../providers/Utils';\n\n/**\n * Generated class for the KaoqinPhotoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-kaoqin-photo',\n  templateUrl: 'kaoqin-photo.html',\n  providers:[Geolocation,KaoQinService,NativeService,DatePipe],\n})\nexport class KaoqinPhotoPage {\n  location_str;\n  pushImgList = []\n  imgList = []\n  deletePicture;\n  isDeletePicture = false;\n  user;\n  frontPage;\n  is_attendance_off;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public geolocation:Geolocation,\n  public kaoQinService:KaoQinService,public nativeService: NativeService,public actionSheetCtrl: ActionSheetController,\n  private datePipe:DatePipe,public storage:Storage) {\n    this.frontPage = Utils.getViewController(\"KaoqinPage\", navCtrl)\n    this.is_attendance_off = this.navParams.get('attendance_off')\n    this.location_str = this.navParams.get('location_str')\n    this.storage.get('user')\n      .then(res => {\n        // console.log(res)\n        this.user = res.result.res_data\n  \n      })\n        \n    // this.geolocation.getCurrentPosition().then((resp) => {\n    //     // console.log(resp.coords.latitude)\n    //     // console.log(resp.coords.longitude)\n    //     this.kaoQinService.trans_location(resp.coords.latitude,resp.coords.longitude).then(res => {\n    //       console.log(res)\n    //       var that = this\n    //       this.kaoQinService.get_location_now(res.result[0].y,res.result[0].x).then(res_location =>{\n    //         console.log(res_location.result.pois[0].addr)\n    //         that.location_str = res_location.result.pois[0].addr\n    //       })\n    //     })\n    // }).catch((error) => {\n    //   console.log('Error getting location', error);\n    // })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad KaoqinPhotoPage');\n  }\n\n  ionViewWillEnter() {\n    this.isDeletePicture =this.navParams.get('isDeletePicture')\n    console.log(this.isDeletePicture)\n    if(this.isDeletePicture){\n       this.navParams.data.isDeletePicture= false ;\n       this.imgList.splice(this.imgList.indexOf(this.deletePicture),1) \n       this.pushImgList.splice(this.pushImgList.indexOf(this.deletePicture.split(\",\")[1]),1) \n    }\n  }\n   \n\n  addImg(){\n    let actionSheet = this.actionSheetCtrl.create({\n      title: '',\n      buttons: [\n        {\n          text: '拍照',\n          //  role: 'destructive',\n          handler: () => {\n            console.log('Destructive clicked');\n            this.getPicture(1);\n          }\n        },\n        {\n          text: '从手机相册选择',\n          handler: () => {\n            console.log('Archive clicked');\n            this.getPicture(0);\n          }\n        },\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  getPicture(type) {//1拍照,0从图库选择\n    let options = {\n      allowEdit: false,\n    };\n    if (type == 1) {\n      this.nativeService.getPictureByCamera(options).subscribe(img_url => {\n        this.getPictureSuccess(img_url);\n      });\n    } else {\n      this.nativeService.getPictureByPhotoLibrary(options).subscribe(img_url => {\n        this.getPictureSuccess(img_url);\n      });\n    }\n  }\n\n  private getPictureSuccess(img_url) {\n    console.log(img_url)\n    this.imgList.push(img_url)\n    this.pushImgList.push(img_url.split(\",\")[1])\n\n  }\n\n  clickPicture(item){\n    this.deletePicture = item ;\n    this.navCtrl.push(\"DeleteKaoqinPhotoPage\" ,{item:item})\n  }\n\n  release(){\n    if (!this.is_attendance_off){\n      let timestamp = Date.parse(this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss').replace(/-/g, '/'));;\n      let timestamp_now = timestamp / 1000 - 8 * 60 * 60\n      let date = new Date(timestamp_now * 1000)\n\n      let timestamp_cal = Date.parse(this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss').replace(/-/g, '/'));\n      let timestamp_cal_now = timestamp_cal / 1000 - 24 * 60 * 60\n      let date_cal = new Date(timestamp_cal_now * 1000)\n\n      let data_obj = {\n        \"employee_id\":this.user.user_id,\n        \"check_in\":this.formatTime_odoo(date),\n        \"day_start\":this.formatTime_day_start(new Date()),\n        \"day_end\":this.formatTime_day_end(new Date()),\n        \"company_name\":this.location_str,\n        \"location_imgs\":this.pushImgList,\n      }\n      var that = this\n      this.kaoQinService.location_attendance(data_obj).then(res => {\n      console.log(res)\n      if (res.result.res_data && res.result.res_code == 1){\n        that.frontPage.data.need_fresh = true;\n        that.navCtrl.popTo(that.frontPage)\n      }\n      })\n    }\n    else\n    {\n      let timestamp = Date.parse(this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss').replace(/-/g, '/'));;\n    let timestamp_now = timestamp / 1000 - 8 * 60 * 60\n    let date = new Date(timestamp_now * 1000)\n\n    let timestamp_cal = Date.parse(this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss').replace(/-/g, '/'));\n    let timestamp_cal_now = timestamp_cal / 1000 - 24 * 60 * 60\n    let date_cal = new Date(timestamp_cal_now * 1000)\n\n    let data_obj = {\n      \"employee_id\":this.user.user_id,\n      \"check_out\":this.formatTime_odoo(date),\n      \"day_start\":this.formatTime_day_start(new Date()),\n      \"day_end\":this.formatTime_day_end(new Date()),\n      \"attendance_off\": true,\n      \"company_name\":this.location_str,\n      \"location_imgs\":this.pushImgList,\n    }\n\n    var that = this\n    this.kaoQinService.location_attendance(data_obj).then(res => {\n      console.log(res)\n      if (res.result.res_data && res.result.res_code == 1){\n        that.frontPage.data.need_fresh = true;\n        that.navCtrl.popTo(that.frontPage)\n      }\n    })\n    }\n\n    \n  }\n\n  formatTime_day_start(date){\n    \n    let timestamp = Date.parse(this.datePipe.transform(date, 'yyyy-MM-dd HH:mm:ss').replace(/-/g, '/'));\n    let timestamp_now = timestamp / 1000 - 24 * 60 * 60\n    let date_now = new Date(timestamp_now * 1000)\n    let year = date_now.getFullYear()\n    let month = date_now.getMonth() + 1\n    let day = date_now.getDate()\n    let hour = 16\n    let minute = 0\n    let second = 0\n    return [year, month, day].join('-') + ' ' + [hour, minute, second].join(':')\n  }\n\n  formatTime_day_end(date){\n    let year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    let hour = 15\n    let minute = 59\n    let second = 59\n    return [year, month, day].join('-') + ' ' + [hour, minute, second].join(':')\n  }\n\n  formatTime_odoo(date){\n    let year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    let hour = date.getHours()\n    let minute = date.getMinutes()\n    let second = date.getSeconds()\n    return [year, this.formatO(month), this.formatO(day)].join('-') + ' ' + [this.formatO(hour), this.formatO(minute), this.formatO(second)].join(':')\n  }\n\n  formatO(date){\n    return String(date).length == 2 ? date : '0' + date\n  }\n\n  goBack(){\n    this.navCtrl.popTo(this.frontPage)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqin-photo/kaoqin-photo.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { KaoqinPhotoPage } from './kaoqin-photo';\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\n\n@NgModule({\n  declarations: [\n    KaoqinPhotoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(KaoqinPhotoPage),IonicImageViewerModule\n  ],\n})\nexport class KaoqinPhotoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqin-photo/kaoqin-photo.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class KaoQinService {\n    constructor(private httpservice: HttpService) {\n\n    }\n    get_today_attendance(day_start,day_end,user_id)\n    {\n        let body = JSON.stringify({\n            day_start:day_start,\n            day_end:day_end,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"get_today_attendance\",body);\n    }\n\n    employee_attendance(data_params)\n    {\n        let body = JSON.stringify(data_params);\n       return this.httpservice.postBodyNoLoading(\"employee_attendance\",body);\n    }\n\n    get_ble_device(){\n        let body = JSON.stringify({});\n       return this.httpservice.postBodyNoLoading(\"get_ble_device\",body);\n    }\n\n    get_employee_attendance(day_start,day_end,user_id){\n        let body = JSON.stringify({\n            day_start:day_start,\n            day_end:day_end,\n            user_id:user_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_employee_attendance\",body);\n    }\n\n    get_is_department(employee_id){\n        let body = JSON.stringify({\n            employee_id:employee_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_is_department\",body);\n    }\n\n    get_department_employee_attendance(manager_id,day_start,day_end){\n        let body = JSON.stringify({\n            manager_id:manager_id,\n            day_start:day_start,\n            day_end:day_end,\n        });\n       return this.httpservice.postBody(\"get_department_employee_attendance\",body);\n    }\n\n    trans_location(latitude,longti){\n       let url_str = \"http://api.map.baidu.com/geoconv/v1/?coords=\" + longti + \",\" + latitude + \"&from=1&to=5&ak=cVef1ROo1IR5OkZ5Fly78vDuOoGmLmD7\" \n       return this.httpservice.getWithUrl(url_str);\n    }\n\n    get_location_now(latitude,longti){\n        let url_str = \"http://api.map.baidu.com/geocoder/v2/?callback=renderReverse&location=\" + latitude + \",\" + longti + \"&output=json&pois=1&ak=cVef1ROo1IR5OkZ5Fly78vDuOoGmLmD7\"\n        return this.httpservice.getLocationWithUrl(url_str);\n    }\n\n    location_attendance(data_params)\n    {\n        let body = JSON.stringify(data_params);\n       return this.httpservice.postBody(\"location_attendance\",body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqinService.ts","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { Cordova, Plugin, IonicNativePlugin } from '@ionic-native/core';\nimport { Observable } from 'rxjs/Observable';\n/**\n * @name Geolocation\n * @description\n * This plugin provides information about the device's location, such as latitude and longitude. Common sources of location information include Global Positioning System (GPS) and location inferred from network signals such as IP address, RFID, WiFi and Bluetooth MAC addresses, and GSM/CDMA cell IDs.\n *\n *  This API is based on the W3C Geolocation API Specification, and only executes on devices that don't already provide an implementation.\n *\n * For iOS you have to add this configuration to your configuration.xml file\n * ```xml\n * <edit-config file=\"*-Info.plist\" mode=\"merge\" target=\"NSLocationWhenInUseUsageDescription\">\n *    <string>We want your location! Best regards NSA</string>\n * </edit-config>\n * ```\n *\n *\n * @usage\n *\n * ```typescript\n * import { Geolocation } from '@ionic-native/geolocation';\n *\n * ...\n *\n * constructor(private geolocation: Geolocation) {}\n *\n * ...\n *\n * this.geolocation.getCurrentPosition().then((resp) => {\n *  // resp.coords.latitude\n *  // resp.coords.longitude\n * }).catch((error) => {\n *   console.log('Error getting location', error);\n * });\n *\n * let watch = this.geolocation.watchPosition();\n * watch.subscribe((data) => {\n *  // data can be a set of coordinates, or an error (if an error occurred).\n *  // data.coords.latitude\n *  // data.coords.longitude\n * });\n * ```\n * @interfaces\n * Coordinates\n * Geoposition\n * PositionError\n * GeolocationOptions\n */\nvar Geolocation = (function (_super) {\n    __extends(Geolocation, _super);\n    function Geolocation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Get the device's current position.\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Promise<Geoposition>} Returns a Promise that resolves with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or rejects with an error.\n     */\n    Geolocation.prototype.getCurrentPosition = function (options) { return; };\n    /**\n     * Watch the current device's position.  Clear the watch by unsubscribing from\n     * Observable changes.\n     *\n     * ```typescript\n     * const subscription = this.geolocation.watchPosition()\n     *                               .filter((p) => p.coords !== undefined) //Filter Out Errors\n     *                               .subscribe(position => {\n     *   console.log(position.coords.longitude + ' ' + position.coords.latitude);\n     * });\n     *\n     * // To stop notifications\n     * subscription.unsubscribe();\n     * ```\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Observable<Geoposition>} Returns an Observable that notifies with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or errors.\n     */\n    Geolocation.prototype.watchPosition = function (options) {\n        return new Observable(function (observer) {\n            var watchId = navigator.geolocation.watchPosition(observer.next.bind(observer), observer.next.bind(observer), options);\n            return function () { return navigator.geolocation.clearWatch(watchId); };\n        });\n    };\n    Geolocation.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    Geolocation.ctorParameters = function () { return []; };\n    __decorate([\n        Cordova({\n            callbackOrder: 'reverse'\n        }),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", Promise)\n    ], Geolocation.prototype, \"getCurrentPosition\", null);\n    Geolocation = __decorate([\n        Plugin({\n            pluginName: 'Geolocation',\n            plugin: 'cordova-plugin-geolocation',\n            pluginRef: 'navigator.geolocation',\n            repo: 'https://github.com/apache/cordova-plugin-geolocation',\n            install: 'ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION=\"To locate you\"',\n            installVariables: ['GEOLOCATION_USAGE_DESCRIPTION'],\n            platforms: ['Amazon Fire OS', 'Android', 'Browser', 'iOS', 'Windows']\n        })\n    ], Geolocation);\n    return Geolocation;\n}(IonicNativePlugin));\nexport { Geolocation };\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@ionic-native/geolocation/index.js\n// module id = 854\n// module chunks = 21 22"],"sourceRoot":""}