{"version":3,"sources":["../../src/pages/add-employee/q-rcode/q-rcode.ts","../../src/pages/add-employee/q-rcode/q-rcode.module.ts"],"names":[],"mappings":"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","file":"143.js","sourcesContent":["import { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { Utils } from './../../../providers/Utils';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { Screenshot } from '@ionic-native/screenshot';\nimport { PhotoLibrary } from '@ionic-native/photo-library';\ndeclare var cordova: any;\n/**\n * Generated class for the QRcodePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-q-rcode',\n  templateUrl: 'q-rcode.html',\n  providers: [PhotoLibrary]\n})\nexport class QRcodePage {\n\n  QRData;\n  item;\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public platform: Platform,\n    public toast: ToastController,\n    public photoLibrary: PhotoLibrary,\n    public screenshot: Screenshot) {\n\n    this.QRData = this.navParams.get(\"data\")\n    this.item = this.navParams.get(\"item\")\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad QRcodePage');\n  }\n\n  savePhone() {\n    this.screenshot.save('jpg', 20, \"name\").then((res) => {\n      if (this.platform.is(\"ios\")) {\n        this.saveImage(res.filePath)\n      }\n    }, (err) => {\n      Utils.toastButtom(\"保存失败\", this.toast)\n    });\n\n  }\n\n  saveImage(imgUrl) {\n    cordova.plugins.photoLibrary.requestAuthorization(\n      function () {\n        // User gave us permission to his library, retry reading it!   \n        cordova.plugins.photoLibrary.getLibrary(\n          function ({ library }) {\n            //var url = 'file:///...'; // file or remote URL. url can also be dataURL, but giving it a file path is much faster   \n            var album = 'OA';\n            cordova.plugins.photoLibrary.saveImage(\"file://\"+imgUrl, album,\n              function (libraryItem) {\n                Utils.toastButtom(\"保存失败\", this.toast)\n              }, function (err) {\n                Utils.toastButtom(\"保存失败\", this.toast)\n              });\n          },\n          function (err) {\n            if (err.startsWith('Permission')) {\n              // call requestAuthorization, and retry   \n            }\n            // Handle error - it's not permission-related   \n            console.log('权限' + err);\n\n          }\n        );\n      },\n      function (err) {\n        // User denied the access   \n        alert('用户拒绝访问' + err);\n      }, // if options not provided, defaults to {read: true}.   \n      {\n        read: true,\n        write: true\n      }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-employee/q-rcode/q-rcode.ts","import { QRCodeModule } from 'angular2-qrcode';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { QRcodePage } from './q-rcode';\n\n@NgModule({\n  declarations: [\n    QRcodePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(QRcodePage),QRCodeModule\n  ],\n})\nexport class QRcodePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-employee/q-rcode/q-rcode.module.ts"],"sourceRoot":""}